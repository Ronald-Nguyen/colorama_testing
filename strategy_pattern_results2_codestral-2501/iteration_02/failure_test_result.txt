Iteration 2
Timestamp: 2026-02-05T15:00:01.357002
Success: False

============================================================
STDOUT:
============================= test session starts =============================
platform win32 -- Python 3.14.2, pytest-9.0.2, pluggy-0.1.dev918+gfc4045693
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: C:\Users\ronal\colorama_testing
configfile: pyproject.toml
plugins: anyio-4.12.1, hypothesis-6.148.8, benchmark-5.2.3, cov-7.0.0
collected 58 items

colorama\tests\ansi_test.py ...                                          [  5%]
colorama\tests\ansitowin32_test.py ......F................               [ 44%]
colorama\tests\initialise_test.py ssssssssss.                            [ 63%]
colorama\tests\isatty_test.py .......                                    [ 75%]
colorama\tests\refactoring_test.py .ss.ss                                [ 86%]
colorama\tests\winterm_test.py ........                                  [100%]

================================== FAILURES ===================================
___________________ AnsiToWin32Test.testCallWin32UsesLookup ___________________

self = <colorama.tests.ansitowin32_test.AnsiToWin32Test testMethod=testCallWin32UsesLookup>

    def testCallWin32UsesLookup(self):
        listener = Mock()
        stream = AnsiToWin32(listener)
        stream.win32_calls = {
            1: (lambda *_, **__: listener(11),),
            2: (lambda *_, **__: listener(22),),
            3: (lambda *_, **__: listener(33),),
        }
>       stream.call_win32('m', (3, 1, 99, 2))

colorama\tests\ansitowin32_test.py:219: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <colorama.ansitowin32.AnsiToWin32 object at 0x00000215E1E978C0>
command = 'm', params = (3, 1, 99, 2)

    def call_win32(self, command, params):
        if command in self.WIN32_STRATEGIES:
>           self.WIN32_STRATEGIES[command](params)
E           TypeError: AnsiToWin32._strategy_m() missing 1 required positional argument: 'params'

colorama\ansitowin32.py:244: TypeError
=========================== short test summary info ===========================
FAILED colorama/tests/ansitowin32_test.py::AnsiToWin32Test::testCallWin32UsesLookup
================== 1 failed, 43 passed, 14 skipped in 0.65s ===================

============================================================
STDERR:
