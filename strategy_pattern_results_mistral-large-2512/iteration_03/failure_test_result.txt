Iteration 3
Timestamp: 2026-01-29T21:27:56.805885
Success: False

============================================================
STDOUT:
============================= test session starts =============================
platform win32 -- Python 3.14.2, pytest-9.0.2, pluggy-0.1.dev918+gfc4045693
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: C:\Users\ronal\colorama_testing
configfile: pyproject.toml
plugins: anyio-4.12.1, hypothesis-6.148.8, benchmark-5.2.3, cov-7.0.0
collected 58 items

colorama\tests\ansi_test.py ...                                          [  5%]
colorama\tests\ansitowin32_test.py ......F................               [ 44%]
colorama\tests\initialise_test.py ssssssssss.                            [ 63%]
colorama\tests\isatty_test.py .......                                    [ 75%]
colorama\tests\refactoring_test.py .ss.ss                                [ 86%]
colorama\tests\winterm_test.py ........                                  [100%]

================================== FAILURES ===================================
___________________ AnsiToWin32Test.testCallWin32UsesLookup ___________________

self = <colorama.tests.ansitowin32_test.AnsiToWin32Test testMethod=testCallWin32UsesLookup>

    def testCallWin32UsesLookup(self):
        listener = Mock()
        stream = AnsiToWin32(listener)
        stream.win32_calls = {
            1: (lambda *_, **__: listener(11),),
            2: (lambda *_, **__: listener(22),),
            3: (lambda *_, **__: listener(33),),
        }
        stream.call_win32('m', (3, 1, 99, 2))
>       self.assertEqual(
            [a[0][0] for a in listener.call_args_list],
            [33, 11, 22] )
E       AssertionError: Lists differ: [] != [33, 11, 22]
E       
E       Second list contains 3 additional elements.
E       First extra element 0:
E       33
E       
E       - []
E       + [33, 11, 22]

colorama\tests\ansitowin32_test.py:220: AssertionError
=========================== short test summary info ===========================
FAILED colorama/tests/ansitowin32_test.py::AnsiToWin32Test::testCallWin32UsesLookup
================== 1 failed, 43 passed, 14 skipped in 0.63s ===================

============================================================
STDERR:
